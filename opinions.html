<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>Strona glowna</title>
		<link
			href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css"
			rel="stylesheet"
			integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD"
			crossorigin="anonymous"
		/>
		<script
			src="https://code.jquery.com/jquery-3.6.4.js"
			integrity="sha256-a9jBBRygX1Bh5lt8GZjXDzyOB+bWve9EiO7tROUtj/E="
			crossorigin="anonymous"
		></script>
		<script
			src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"
			integrity="sha384-w76AqPfDkMBDXo30jS1Sgez6pr3x5MlQ1ZAGC+nuZB+EYdgRZgiwxhTBTkF7CXvN"
			crossorigin="anonymous"
		></script>
		<script></script>
	</head>
	<body>
		<link
			rel="stylesheet"
			href="https://cdn.datatables.net/1.13.4/css/jquery.dataTables.css"
		/>

		<script src="https://cdn.datatables.net/1.13.4/js/jquery.dataTables.js"></script>
		<nav class="navbar navbar-expand-lg navbar-dark bg-dark">
			<div class="container-fluid">
				<a class="navbar-brand" href="./index.html">Strona glowna</a>
				<button
					class="navbar-toggler"
					type="button"
					data-bs-toggle="collapse"
					data-bs-target="#navbarNav"
					aria-controls="navbarNav"
					aria-expanded="false"
					aria-label="Toggle navigation"
				>
					<span class="navbar-toggler-icon"></span>
				</button>
				<div class="collapse navbar-collapse" id="navbarNav">
					<ul class="navbar-nav">
						<li class="nav-item">
							<a class="nav-link active" aria-current="page" href=""
								>Pobierz opinie</a
							>
						</li>
						<li class="nav-item">
							<a class="nav-link active" aria-current="page" href=""
								>Lista produktow</a
							>
						</li>

						<li class="nav-item">
							<a class="nav-link" href="#">O autorze</a>
						</li>
					</ul>
				</div>
			</div>
		</nav>

		<main class="my-5">
			<div class="container my-5">
				<div class="row">
					<div class="col">
						<h1 class="text-center">Ceneo Web Scraper</h1>
						<p>
							Lorem ipsum dolor sit amet consectetur adipisicing elit. Nostrum
							voluptatem ut cumque iure deserunt sunt modi minus accusamus sit
							ratione, nulla natus dignissimos nisi nihil veritatis recusandae,
							quos eligendi quidem necessitatibus expedita dolor possimus eaque
							est iste. Labore praesentium laboriosam nemo maxime voluptatibus,
							vel eos cum ex numquam? Enim, nesciunt!
						</p>
					</div>
				</div>
			</div>
			<div class="container mb-5 pb-5">
				<div class="row">
					<div class="col">
						<table id="opinions" class="table table-responsive">
							<script>
								$(document).ready(function () {
									$("#opinions").DataTable({
										// responsive: true,
										ajax: { url: "39562616.json", dataSrc: "" },
										columns: [
											{ data: "opinion_id", title: "ID opinii" },
											{ data: "author", title: "Autor" },
											{ data: "content", title: "Treść" },
											{ data: "stars", title: "Gwiazdki" },
											{ data: "recommendation", title: "Rekomendacja" },
											{ data: "pros", title: "Lista zalet" },
											{ data: "cons", title: "lista wad" },
											{ data: "useful_count", title: "Przydatna" },
											{ data: "unuseful_count", title: "Nieprzydatna" },
											{ data: "purchased", title: "Potwierdzona zakupem" },
											{ data: "opinion_date", title: "Data wystawienia" },
											{ data: "purchase_date", title: "Data zakupu" },
										],
									});
								});
							</script>
						</table>
					</div>
				</div>
			</div>
			<div class="container my-5">
				<div class="row">
					<div class="col">
						<table class="table table-striped table-hover" id="opinions">
							<tbody>
								<script>
									// FETCHING DATA FROM JSON FILE
									$.getJSON("39562616.json", function (data) {
										var opinion = "";

										// ITERATING THROUGH OBJECTS
										$.each(data, function (key, value) {
											//CONSTRUCTION OF ROWS HAVING
											// DATA FROM JSON OBJECT
											opinion += "<tr>";
											opinion += "<td>" + value.opinion_id + "</td>";

											opinion += "<td>" + value.author + "</td>";

											opinion += "<td>" + value.recommendation + "</td>";

											opinion += "<td>" + value.stars + "</td>";

											opinion +=
												"<td>" + value.content.substring(0, 20) + "</td>";

											opinion += "<td>" + value.pros + "</td>";

											opinion += "<td>" + value.cons + "</td>";

											opinion +=
												"<td>" + (value.purchased ? "TAK" : "NIE") + "</td>";

											opinion += "<td>" + value.opinion_date + "</td>";

											opinion +=
												"<td>" +
												(value.purchase_date ? value.purchase_date : "") +
												"</td>";

											opinion += "<td>" + value.useful_count + "</td>";

											opinion += "<td>" + value.unuseful_count + "</td>";

											opinion += "</tr>";
										});

										//INSERTING ROWS INTO TABLE
										$("#opinions").append(opinion);
									});
								</script>
							</tbody>
						</table>
					</div>
				</div>
			</div>
		</main>

		<!-- <footer> -->
		<!-- <script>
			$(document).ready(function () {
				$("#opinions").DataTable({
					responsive: true,
				});
			});
		</script> -->
		<!-- </footer> -->
	</body>
</html>
